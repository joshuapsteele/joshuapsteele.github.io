<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>The Brokenhearted God | Joshua P. Steele</title>
<meta name="keywords" content="">
<meta name="description" content="Not to take away from the undeniably biblical teaching that God is almighty, but sometimes I think we lose sight of God&rsquo;s love for his image-bearers when we emphasize certain &ldquo;strong&rdquo; portraits of God at the expense of (instead of alongside of) other &ldquo;weak&rdquo; portraits found in Scripture. (I put &ldquo;strong&rdquo; and &ldquo;weak&rdquo; in quotes because perhaps our definitions of strength and weakness therefore need to change!)
It might make some of us uncomfortable to read about God portrayed as a jilted lover or a frustrated mother, but those portraits just might be desperately needed in a time when so many people turn away from God because they can&rsquo;t understand how he can possibly be the good Lord of a world so broken and dying.">
<meta name="author" content="joshuapsteele">
<link rel="canonical" href="https://joshuapsteele.com/the-brokenhearted-god/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.76c662c426deb8bd4ee7aa0a5364369515bf43ebf676dd67ce9095a37cc65e52.css" integrity="sha256-dsZixCbeuL1O56oKU2Q2lRW/Q&#43;v2dt1nzpCVo3zGXlI=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://joshuapsteele.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://joshuapsteele.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://joshuapsteele.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://joshuapsteele.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://joshuapsteele.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://joshuapsteele.com/the-brokenhearted-god/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<meta property="og:url" content="https://joshuapsteele.com/the-brokenhearted-god/">
  <meta property="og:site_name" content="Joshua P. Steele">
  <meta property="og:title" content="The Brokenhearted God">
  <meta property="og:description" content="Not to take away from the undeniably biblical teaching that God is almighty, but sometimes I think we lose sight of God’s love for his image-bearers when we emphasize certain “strong” portraits of God at the expense of (instead of alongside of) other “weak” portraits found in Scripture. (I put “strong” and “weak” in quotes because perhaps our definitions of strength and weakness therefore need to change!)
It might make some of us uncomfortable to read about God portrayed as a jilted lover or a frustrated mother, but those portraits just might be desperately needed in a time when so many people turn away from God because they can’t understand how he can possibly be the good Lord of a world so broken and dying.">
  <meta property="og:locale" content="en-US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2015-04-24T09:15:27+00:00">
    <meta property="article:modified_time" content="2025-03-31T16:22:26-04:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="The Brokenhearted God">
<meta name="twitter:description" content="Not to take away from the undeniably biblical teaching that God is almighty, but sometimes I think we lose sight of God&rsquo;s love for his image-bearers when we emphasize certain &ldquo;strong&rdquo; portraits of God at the expense of (instead of alongside of) other &ldquo;weak&rdquo; portraits found in Scripture. (I put &ldquo;strong&rdquo; and &ldquo;weak&rdquo; in quotes because perhaps our definitions of strength and weakness therefore need to change!)
It might make some of us uncomfortable to read about God portrayed as a jilted lover or a frustrated mother, but those portraits just might be desperately needed in a time when so many people turn away from God because they can&rsquo;t understand how he can possibly be the good Lord of a world so broken and dying.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "https://joshuapsteele.com/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "The Brokenhearted God",
      "item": "https://joshuapsteele.com/the-brokenhearted-god/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "The Brokenhearted God",
  "name": "The Brokenhearted God",
  "description": "Not to take away from the undeniably biblical teaching that God is almighty, but sometimes I think we lose sight of God\u0026rsquo;s love for his image-bearers when we emphasize certain \u0026ldquo;strong\u0026rdquo; portraits of God at the expense of (instead of alongside of) other \u0026ldquo;weak\u0026rdquo; portraits found in Scripture. (I put \u0026ldquo;strong\u0026rdquo; and \u0026ldquo;weak\u0026rdquo; in quotes because perhaps our definitions of strength and weakness therefore need to change!)\nIt might make some of us uncomfortable to read about God portrayed as a jilted lover or a frustrated mother, but those portraits just might be desperately needed in a time when so many people turn away from God because they can\u0026rsquo;t understand how he can possibly be the good Lord of a world so broken and dying.\n",
  "keywords": [
    
  ],
  "articleBody": "Not to take away from the undeniably biblical teaching that God is almighty, but sometimes I think we lose sight of God’s love for his image-bearers when we emphasize certain “strong” portraits of God at the expense of (instead of alongside of) other “weak” portraits found in Scripture. (I put “strong” and “weak” in quotes because perhaps our definitions of strength and weakness therefore need to change!)\nIt might make some of us uncomfortable to read about God portrayed as a jilted lover or a frustrated mother, but those portraits just might be desperately needed in a time when so many people turn away from God because they can’t understand how he can possibly be the good Lord of a world so broken and dying.\nLet’s not let our emphasis on God as King make him seem like a distant despot, or something dangerously close to the author of evil. We worship a God who is immanent in his transcendence, and we don’t all need to become process theologians to recognize this. Perhaps we just need to read the prophets! Consider the following two examples:\nWhen Israel was a child, I loved him,\nand out of Egypt I called my son.*\nThe more I called them,\nthe further they went from me;*\nthey kept sacrificing to the Baals,*\nand they burned incense to idols.*\nYet it was I who taught Ephraim to walk;\nI took them up in my arms,*\nbut they did not know that I healed them.*\nI led them\nwith bands of human kindness,*\nwith cords of love.*\nI treated them like those*\nwho lift infants to their cheeks;*\nI bent down to them and fed them.*\n…\nI won’t act on the heat of my anger;\nI won’t return to destroy Ephraim;*\nfor I am God and not a human being,*\nthe holy one in your midst;*\nI won’t come in harsh judgment.*\nThey will walk after theLord***,***\nwho roars like a lion.*\nWhen he roars,*\nhis children will come trembling from the west.*\nThey will come trembling like a bird,\nand like a dove from the land of Assyria;*\nand I will return them to their homes, says theLord.* (Hosea 11:1-4; 9-11, CEB)\n—\n***As for your birth, on the day you were born your umbilical cord was not cut, nor were you washed in water; you were certainly not rubbed down with salt, nor wrapped with blankets.*No eye took pity on you to do even one of these things for you to spare you; you were thrown out into the open field because you were detested on the day you were born.\n***“‘I passed by you and saw you kicking around helplessly in your blood. I said to you as you lay there in your blood, “Live!” I said to you as you lay there in your blood, “Live!”*I made you plentiful like sprouts in a field; you grew tall and came of age so that you could wear jewelry. Your breasts had formed and your hair had grown, but you were still naked and bare.\n“‘Then I passed by you and watched you, noticing that you had reached the age for love. I spread my cloak over you and covered your nakedness. I swore a solemn oath to you and entered into a marriage covenant with you, declares the sovereignLord***, and you became mine.***\n***“‘Then I bathed you in water, washed the blood off you, and anointed you with fragrant oil.****I dressed you in embroidered clothing and put fine leather sandals on your feet. I wrapped you with fine linen and covered you with silk.****I adorned you with jewelry. I put bracelets on your hands and a necklace around your neck.*I put a ring in your nose, earrings on your ears, and a beautiful crown on your head.You were adorned with gold and silver, while your clothing was of fine linen, silk, and embroidery. You ate the finest flour, honey, and olive oil. You became extremely beautiful and attained the position of royalty.Your fame spread among the nations because of your beauty; your beauty was perfect because of the splendor which I bestowed on you, declares the sovereignLord. (Ezekiel 16:4-14, NET)\n—\nNotice that God’s immanence, his willingness to suffer alongside us (and in our stead, through Christ), doesn’t negate his hatred for sin. Instead, I’d argue that God’s immanence intensifies his negative reaction to Sin and Death as his cosmic enemies! Emmanuel, God with us, sees our sickness for what it truly is. It’s not something to be trifled with, and it doesn’t just upset God because it “breaks his list of rules.” No, sin breaks God’s good creation. It is a cancer which kills from within, even dragging his precious image bearers down to the grave…blinding them to the horrible reality of their downfall, and enticing them, enticing US with phantoms of fleeting pleasure.\nThis rambling post was inspired by the following two songs, which capture the above ideas beautifully. The first is “Ezekiel,” by Gungor, based on the text of Ezekiel 16. The second is “Not Your Type” by Noah James. Give both a listen if you have the time!\n[vimeo url=“http://vimeo.com/79250768\"]\n[youtube url=“https://www.youtube.com/watch?v=D_wSEMAu2sA”]\nPosted via blogwith\n",
  "wordCount" : "867",
  "inLanguage": "en",
  "datePublished": "2015-04-24T09:15:27Z",
  "dateModified": "2025-03-31T16:22:26-04:00",
  "author":{
    "@type": "Person",
    "name": "joshuapsteele"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://joshuapsteele.com/the-brokenhearted-god/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Joshua P. Steele",
    "logo": {
      "@type": "ImageObject",
      "url": "https://joshuapsteele.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://joshuapsteele.com/" accesskey="h" title="Joshua P. Steele (Alt + H)">Joshua P. Steele</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://joshuapsteele.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://joshuapsteele.com/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://joshuapsteele.com/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="https://joshuapsteele.com/resources/" title="Resources">
                    <span>Resources</span>
                </a>
            </li>
            <li>
                <a href="https://social.joshuapsteele.com" title="Social">
                    <span>Social</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://joshuapsteele.com/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://joshuapsteele.com/">Home</a>&nbsp;»&nbsp;<a href="https://joshuapsteele.com/blog/">Blogs</a></div>
    <h1 class="post-title entry-hint-parent">
      The Brokenhearted God
    </h1>
    <div class="post-meta"><span title='2015-04-24 09:15:27 +0000 UTC'>April 24, 2015</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;joshuapsteele&nbsp;|&nbsp;<a href="https://github.com/joshuapsteele/joshuapsteele.github.io/tree/main/content/blog/the-brokenhearted-god.md" rel="noopener noreferrer" target="_blank">View on GitHub</a>


<span class="post-meta-item">
    <span class="post-meta-separator">|</span>
    <button class="tinylytics_kudos" data-path="/the-brokenhearted-god/"></button>
</span>
</div>
  </header> 

  <div class="post-content"><p>Not to take away from the undeniably biblical teaching that God is almighty, but sometimes I think <strong>we lose sight of God&rsquo;s love for his image-bearers when we emphasize certain &ldquo;strong&rdquo; portraits of God at the expense of (instead of alongside of) other &ldquo;weak&rdquo; portraits found in Scripture</strong>. (I put &ldquo;strong&rdquo; and &ldquo;weak&rdquo; in quotes because perhaps our definitions of strength and weakness therefore need to change!)</p>
<p>It might make some of us uncomfortable to read about God portrayed as a jilted lover or a frustrated mother, but those portraits just might be desperately needed in a time when so many people turn away from God because they can&rsquo;t understand how he can possibly be the good Lord of a world so broken and dying.</p>
<p>Let&rsquo;s not let our emphasis on God as King make him seem like a distant despot, or something dangerously close to the author of evil. We worship a God who is immanent in his transcendence, and we don&rsquo;t all need to become <a href="http://en.wikipedia.org/wiki/Process_theology">process theologians</a> to recognize this. Perhaps we just need to read the prophets! Consider the following two examples:</p>
<p><em><strong>When Israel was a child, I loved him,</strong></em></p>
<p><strong>and out of Egypt I called my son.</strong>*</p>
<p><em><strong>The more I called them,</strong></em></p>
<p><strong>the further they went from me;</strong>*</p>
<p><strong>they kept sacrificing to the Baals,</strong>*</p>
<p><strong>and they burned incense to idols.</strong>*</p>
<p><em><strong>Yet it was I who taught Ephraim to walk;</strong></em></p>
<p><strong>I took them up in my arms,</strong>*</p>
<p><strong>but they did not know that I healed them.</strong>*</p>
<p><em><strong>I led them</strong></em></p>
<p><strong>with bands of human kindness,</strong>*</p>
<p><strong>with cords of love.</strong>*</p>
<p><strong>I treated them like those</strong>*</p>
<p><strong>who lift infants to their cheeks;</strong>*</p>
<p><strong>I bent down to them and fed them.</strong>*</p>
<p><em><strong>…</strong></em></p>
<p><em><strong>I won’t act on the heat of my anger;</strong></em></p>
<p><strong>I won’t return to destroy Ephraim;</strong>*</p>
<p><strong>for I am God and not a human being,</strong>*</p>
<p><strong>the holy one in your midst;</strong>*</p>
<p><strong>I won’t come in harsh judgment.</strong>*</p>
<p><em><strong>They will walk after the</strong></em><em>Lord</em>***,***</p>
<p><strong>who roars like a lion.</strong>*</p>
<p><strong>When he roars,</strong>*</p>
<p><strong>his children will come trembling from the west.</strong>*</p>
<p><em><strong>They will come trembling like a bird,</strong></em></p>
<p><strong>and like a dove from the land of Assyria;</strong>*</p>
<p><strong>and I will return them to their homes, says the<strong><strong>Lord</strong></strong>.</strong>* (<a href="https://www.biblegateway.com/passage/?search=Hosea+11&amp;amp;version=CEB">Hosea 11:1-4; 9-11, CEB</a>)</p>
<p>—</p>
<p>***As for your birth, on the day you were born your umbilical cord was not cut, nor were you washed in water; you were certainly not rubbed down with salt, nor wrapped with blankets.*<em><strong>No eye took pity on you to do even one of these things for you to spare you; you were thrown out into the open field because you were detested on the day you were born.</strong></em></p>
<p>***“‘I passed by you and saw you kicking around helplessly in your blood. I said to you as you lay there in your blood, “Live!” I said to you as you lay there in your blood, “Live!”*<em><strong>I made you plentiful like sprouts in a field; you grew tall and came of age so that you could wear jewelry. Your breasts had formed and your hair had grown, but you were still naked and bare.</strong></em></p>
<p><em><strong>“‘Then I passed by you and watched you, noticing that you had reached the age for love. I spread my cloak over you and covered your nakedness. I swore a solemn oath to you and entered into a marriage covenant with you, declares the sovereign</strong></em><em>Lord</em>***, and you became mine.***</p>
<p>***“‘Then I bathed you in water, washed the blood off you, and anointed you with fragrant oil.****I dressed you in embroidered clothing and put fine leather sandals on your feet. I wrapped you with fine linen and covered you with silk.****I adorned you with jewelry. I put bracelets on your hands and a necklace around your neck.*<em><strong>I put a ring in your nose, earrings on your ears, and a beautiful crown on your head.<strong><strong>You were adorned with gold and silver, while your clothing was of fine linen, silk, and embroidery. You ate the finest flour, honey, and olive oil. You became extremely beautiful and attained the position of royalty.<strong><strong>Your fame spread among the nations because of your beauty; your beauty was perfect because of the splendor which I bestowed on you, declares the sovereign</strong></strong>Lord</strong></strong>.</strong></em> (<a href="https://www.biblegateway.com/passage/?search=Ezekiel%2016&amp;amp;version=NET">Ezekiel 16:4-14, NET</a>)</p>
<p>—</p>
<p>Notice that God&rsquo;s immanence, his willingness to suffer alongside us (and in our stead, through Christ), doesn&rsquo;t negate his hatred for sin. Instead, I&rsquo;d argue that <strong>God&rsquo;s immanence intensifies his negative reaction to Sin and Death as his cosmic enemies!</strong> Emmanuel, God with us, sees our sickness for what it truly is. It&rsquo;s not something to be trifled with, and it doesn&rsquo;t just upset God because it &ldquo;breaks his list of rules.&rdquo; No, sin breaks God&rsquo;s good creation. It is a cancer which kills from within, even dragging his precious image bearers down to the grave…blinding them to the horrible reality of their downfall, and enticing them, enticing US with phantoms of fleeting pleasure.</p>
<p>This rambling post was inspired by the following two songs, which capture the above ideas beautifully. The first is <a href="http://open.spotify.com/track/4xyARNLYUCYc0HubY88IX8">&ldquo;Ezekiel,&rdquo; by Gungor</a>, based on the text of Ezekiel 16. The second is <a href="http://open.spotify.com/track/78BUC2TstlFmGvI1pvNhTT">&ldquo;Not Your Type&rdquo; by Noah James</a>. Give both a listen if you have the time!</p>
<p>[vimeo url=&ldquo;<a href="http://vimeo.com/79250768%22">http://vimeo.com/79250768&quot;</a>]</p>
<p>[youtube url=&ldquo;<a href="https://www.youtube.com/watch?v=D">https://www.youtube.com/watch?v=D</a>_wSEMAu2sA&rdquo;]</p>
<p>Posted via <a href="http://blogwith.co">blogwith</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://joshuapsteele.com/the-hope-of-the-holy-innocents/">
    <span class="title">« Prev</span>
    <br>
    <span>The Hope of the Holy Innocents</span>
  </a>
  <a class="next" href="https://joshuapsteele.com/20150424my-uncle-timothy-steele/">
    <span class="title">Next »</span>
    <br>
    <span>My Uncle, Timothy Steele</span>
  </a>
</nav>

  </footer>

  <div class="post-reply-buttons">
    <a href="mailto:blog@joshuapsteele.com?subject=Re: The%20Brokenhearted%20God" class="reply-button">
      📧 Reply via email
    </a>
    <a href="https://bsky.app/profile/joshuapsteele.bsky.social/post?text=Re: The%20Brokenhearted%20God https%3a%2f%2fjoshuapsteele.com%2fthe-brokenhearted-god%2f" class="reply-button">
      🦋 Reply via Bluesky
    </a>
    <a href="https://social.joshuapsteele.com/new?text=Re: The%20Brokenhearted%20God https%3a%2f%2fjoshuapsteele.com%2fthe-brokenhearted-god%2f" class="reply-button">
      🌐 Reply via Micro.blog
    </a>
  </div>
</article>
    </main>
    <script src="https://tinylytics.app/embed/kLx6jW19SrdcVTjNny3p.js?hits&countries&kudos" defer></script>
<footer class="footer">
        <span>&copy; 2025 <a href="https://joshuapsteele.com/">Joshua P. Steele</a></span><br>
        Navigate my <a href="/blog">blog</a> by <a href="/categories">categories</a> and <a href="/tags">tags</a><br>

    <span>
        Find me on 
        <a href="https://social.joshuapsteele.com/" target="_blank">micro.blog</a> &
        <a href="https://steele.omg.lol/" target="_blank">omg.lol</a>
    </span><br>
    <span>
        <span class="tinylytics_hits"></span> visits from the following countries:
    </span><br>
    <span class="tinylytics_countries"></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
