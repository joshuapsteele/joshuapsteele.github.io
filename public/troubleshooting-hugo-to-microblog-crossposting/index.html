<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Troubleshooting Hugo to Micro.blog Crossposting | Joshua P. Steele</title>
<meta name="keywords" content="Hugo">
<meta name="description" content="UPDATE: This now seems to work! The post made it to Micro.blog, BlueSky, and Mastodon, at least. Just not to Threads.
I&rsquo;m trying to troubleshoot what&rsquo;s going on with my current crossposting configuration between my Hugo website, my Micro.blog account, and my accounts on BlueSky, Mastodon, and Threads.
What&rsquo;s supposed to happen is that this blog post, after I merge it to my GitHub repository, will end up on the JSONfeed at https://joshuapsteele.com/blog/feed.json.">
<meta name="author" content="joshuapsteele">
<link rel="canonical" href="https://joshuapsteele.com/troubleshooting-hugo-to-microblog-crossposting/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.72d18a3f820545452e4bd854eca18b020aad9c7b1bad7b51d11857fcaabdee33.css" integrity="sha256-ctGKP4IFRUUuS9hU7KGLAgqtnHsbrXtR0RhX/Kq97jM=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://joshuapsteele.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://joshuapsteele.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://joshuapsteele.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://joshuapsteele.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://joshuapsteele.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://joshuapsteele.com/troubleshooting-hugo-to-microblog-crossposting/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><link rel="stylesheet" href="/assets/css/custom.css">
<meta property="og:title" content="Troubleshooting Hugo to Micro.blog Crossposting" />
<meta property="og:description" content="UPDATE: This now seems to work! The post made it to Micro.blog, BlueSky, and Mastodon, at least. Just not to Threads.
I&rsquo;m trying to troubleshoot what&rsquo;s going on with my current crossposting configuration between my Hugo website, my Micro.blog account, and my accounts on BlueSky, Mastodon, and Threads.
What&rsquo;s supposed to happen is that this blog post, after I merge it to my GitHub repository, will end up on the JSONfeed at https://joshuapsteele.com/blog/feed.json." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://joshuapsteele.com/troubleshooting-hugo-to-microblog-crossposting/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2024-11-19T17:25:36-05:00" />
<meta property="article:modified_time" content="2024-11-19T17:25:36-05:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Troubleshooting Hugo to Micro.blog Crossposting"/>
<meta name="twitter:description" content="UPDATE: This now seems to work! The post made it to Micro.blog, BlueSky, and Mastodon, at least. Just not to Threads.
I&rsquo;m trying to troubleshoot what&rsquo;s going on with my current crossposting configuration between my Hugo website, my Micro.blog account, and my accounts on BlueSky, Mastodon, and Threads.
What&rsquo;s supposed to happen is that this blog post, after I merge it to my GitHub repository, will end up on the JSONfeed at https://joshuapsteele.com/blog/feed.json."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "https://joshuapsteele.com/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Troubleshooting Hugo to Micro.blog Crossposting",
      "item": "https://joshuapsteele.com/troubleshooting-hugo-to-microblog-crossposting/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Troubleshooting Hugo to Micro.blog Crossposting",
  "name": "Troubleshooting Hugo to Micro.blog Crossposting",
  "description": "UPDATE: This now seems to work! The post made it to Micro.blog, BlueSky, and Mastodon, at least. Just not to Threads.\nI\u0026rsquo;m trying to troubleshoot what\u0026rsquo;s going on with my current crossposting configuration between my Hugo website, my Micro.blog account, and my accounts on BlueSky, Mastodon, and Threads.\nWhat\u0026rsquo;s supposed to happen is that this blog post, after I merge it to my GitHub repository, will end up on the JSONfeed at https://joshuapsteele.com/blog/feed.json.\n",
  "keywords": [
    "Hugo"
  ],
  "articleBody": "UPDATE: This now seems to work! The post made it to Micro.blog, BlueSky, and Mastodon, at least. Just not to Threads.\nI’m trying to troubleshoot what’s going on with my current crossposting configuration between my Hugo website, my Micro.blog account, and my accounts on BlueSky, Mastodon, and Threads.\nWhat’s supposed to happen is that this blog post, after I merge it to my GitHub repository, will end up on the JSONfeed at https://joshuapsteele.com/blog/feed.json.\nThat JSONFeed is supposed to get polled by Micro.blog, which should then add the new post to my Micro.blog timeline, as well as cross-post it to BlueSky, Mastodon, and Threads.\nAs best I can tell, the JSONFeed at /blog/feed.json is valid. Here’s how I have it configured:\nFirst, here’s my /layouts/_default/list.jsonfeed.json:\n{{- $pctx := . -}} {{- if .IsHome -}}{{ $pctx = site }}{{- end -}} {{- $pages := slice -}} {{- if or $.IsHome $.IsSection -}} {{- $pages = $pctx.RegularPages -}} {{- else -}} {{- $pages = $pctx.Pages -}} {{- end -}} {{- $limit := site.Config.Services.RSS.Limit -}} {{- if ge $limit 1 -}} {{- $pages = $pages | first $limit -}} {{- end -}} {{- $title := \"\" }} {{- if eq .Title .Site.Title }} {{- $title = .Site.Title }} {{- else }} {{- with .Title }} {{- $title = print . \" on \"}} {{- end }} {{- $title = print $title .Site.Title }} {{- end }} { \"version\": \"https://jsonfeed.org/version/1.1\", \"title\": {{ $title | jsonify }}, \"home_page_url\": {{ .Permalink | jsonify }}, {{- with .OutputFormats.Get \"jsonfeed\" }} \"feed_url\": {{ .Permalink | jsonify }}, {{- end }} {{- if (or .Site.Params.author .Site.Params.author_url) }} \"authors\": [{ {{- if .Site.Params.author }} \"name\": {{ .Site.Params.author | jsonify }}, {{- end }} {{- if .Site.Params.author_url }} \"url\": {{ .Site.Params.author_url | jsonify }} {{- end }} }], {{- end }} {{- if $pages }} \"items\": [ {{- range $index, $element := $pages }} {{- with $element }} {{- if $index }},{{end}} { \"title\": {{ .Title | jsonify }}, \"id\": {{ .Permalink | jsonify }}, \"url\": {{ .Permalink | jsonify }}, {{- if .Site.Params.showFullTextinJSONFeed }} \"summary\": {{ with .Description }}{{ . | jsonify }}{{ else }}{{ .Summary | jsonify }}{{ end -}}, \"content_html\": {{ .Content | jsonify }}, {{- else }} \"content_text\": {{ with .Description }}{{ . | jsonify }}{{ else }}{{ .Summary | jsonify }}{{ end -}}, {{- end }} {{- if .Params.cover.image }} {{- $cover := (.Resources.ByType \"image\").GetMatch (printf \"*%s*\" (.Params.cover.image)) }} {{- if $cover }} \"image\": {{ (path.Join .RelPermalink $cover) | absURL | jsonify }}, {{- end }} {{- end }} \"date_published\": {{ .Date.Format \"2006-01-02T15:04:05Z07:00\" | jsonify }} } {{- end }} {{- end }} ] {{ end }} } Then, here’s the relevant portion of my hugo.yaml file:\nmediaTypes: application/feed+json: suffixes: - json outputs: home: - HTML - RSS - JSON section: - HTML - RSS - JSONFeed outputFormats: RSS: mediaType: application/rss+xml baseName: feed JSONfeed: mediaType: application/feed+json baseName: feed rel: alternate isPlainText: true Is anything obviously wrong with the way I have things set up?\n",
  "wordCount" : "497",
  "inLanguage": "en",
  "datePublished": "2024-11-19T17:25:36-05:00",
  "dateModified": "2024-11-19T17:25:36-05:00",
  "author":{
    "@type": "Person",
    "name": "joshuapsteele"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://joshuapsteele.com/troubleshooting-hugo-to-microblog-crossposting/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Joshua P. Steele",
    "logo": {
      "@type": "ImageObject",
      "url": "https://joshuapsteele.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://joshuapsteele.com/" accesskey="h" title="Joshua P. Steele (Alt + H)">Joshua P. Steele</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://joshuapsteele.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://joshuapsteele.com/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://joshuapsteele.com/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="https://joshuapsteele.com/resources/" title="Resources">
                    <span>Resources</span>
                </a>
            </li>
            <li>
                <a href="https://social.joshuapsteele.com" title="Social">
                    <span>Social</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://joshuapsteele.com/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://joshuapsteele.com/">Home</a>&nbsp;»&nbsp;<a href="https://joshuapsteele.com/blog/">Blogs</a></div>
    <h1 class="post-title entry-hint-parent">
      Troubleshooting Hugo to Micro.blog Crossposting
    </h1>
    <div class="post-meta"><span title='2024-11-19 17:25:36 -0500 EST'>November 19, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;joshuapsteele&nbsp;|&nbsp;<a href="https://github.com/joshuapsteele/joshuapsteele.github.io/tree/main/content/blog/troubleshooting-crossposting.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> 

  <div class="post-content"><p><em>UPDATE: This now seems to work! The post made it to Micro.blog, BlueSky, and Mastodon, at least. Just not to Threads.</em></p>
<p>I&rsquo;m trying to troubleshoot what&rsquo;s going on with my current crossposting configuration between my Hugo website, my Micro.blog account, and my accounts on BlueSky, Mastodon, and Threads.</p>
<p>What&rsquo;s supposed to happen is that this blog post, after I merge it to my <a href="https://github.com/joshuapsteele/joshuapsteele.github.io">GitHub repository</a>, will end up on the JSONfeed at <code>https://joshuapsteele.com/blog/feed.json</code>.</p>
<p>That JSONFeed is supposed to get polled by Micro.blog, which should then add the new post to my Micro.blog timeline, as well as cross-post it to BlueSky, Mastodon, and Threads.</p>
<p>As best I can tell, the JSONFeed at <code>/blog/feed.json</code> is valid. Here&rsquo;s how I have it configured:</p>
<p>First, here&rsquo;s my <code>/layouts/_default/list.jsonfeed.json</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>{{- $pctx := . -}}
</span></span><span style="display:flex;"><span>{{- if .IsHome -}}{{ $pctx = site }}{{- end -}}
</span></span><span style="display:flex;"><span>{{- $pages := slice -}}
</span></span><span style="display:flex;"><span>{{- if or $.IsHome $.IsSection -}}
</span></span><span style="display:flex;"><span>{{- $pages = $pctx.RegularPages -}}
</span></span><span style="display:flex;"><span>{{- else -}}
</span></span><span style="display:flex;"><span>{{- $pages = $pctx.Pages -}}
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span><span style="display:flex;"><span>{{- $limit := site.Config.Services.RSS.Limit -}}
</span></span><span style="display:flex;"><span>{{- if ge $limit 1 -}}
</span></span><span style="display:flex;"><span>{{- $pages = $pages | first $limit -}}
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span><span style="display:flex;"><span>{{- $title := &#34;&#34; }}
</span></span><span style="display:flex;"><span>{{- if eq .Title .Site.Title }}
</span></span><span style="display:flex;"><span>{{- $title = .Site.Title }}
</span></span><span style="display:flex;"><span>{{- else }}
</span></span><span style="display:flex;"><span>{{- with .Title }}
</span></span><span style="display:flex;"><span>{{- $title = print . &#34; on &#34;}}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>{{- $title = print $title .Site.Title }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    &#34;version&#34;: &#34;https://jsonfeed.org/version/1.1&#34;,
</span></span><span style="display:flex;"><span>    &#34;title&#34;: {{ $title | jsonify }},
</span></span><span style="display:flex;"><span>    &#34;home_page_url&#34;: {{ .Permalink | jsonify }},
</span></span><span style="display:flex;"><span>    {{- with  .OutputFormats.Get &#34;jsonfeed&#34; }}
</span></span><span style="display:flex;"><span>    &#34;feed_url&#34;: {{ .Permalink | jsonify  }},
</span></span><span style="display:flex;"><span>    {{- end }}
</span></span><span style="display:flex;"><span>    {{- if (or .Site.Params.author .Site.Params.author_url) }}
</span></span><span style="display:flex;"><span>    &#34;authors&#34;: [{
</span></span><span style="display:flex;"><span>      {{- if .Site.Params.author }}
</span></span><span style="display:flex;"><span>        &#34;name&#34;: {{ .Site.Params.author | jsonify }},
</span></span><span style="display:flex;"><span>      {{- end }}
</span></span><span style="display:flex;"><span>      {{- if .Site.Params.author_url }}
</span></span><span style="display:flex;"><span>        &#34;url&#34;: {{ .Site.Params.author_url | jsonify }}
</span></span><span style="display:flex;"><span>      {{- end }}
</span></span><span style="display:flex;"><span>    }],
</span></span><span style="display:flex;"><span>    {{- end }}
</span></span><span style="display:flex;"><span>    {{- if $pages }}
</span></span><span style="display:flex;"><span>    &#34;items&#34;: [
</span></span><span style="display:flex;"><span>        {{- range $index, $element := $pages }}
</span></span><span style="display:flex;"><span>        {{- with $element }}
</span></span><span style="display:flex;"><span>        {{- if $index }},{{end}} {
</span></span><span style="display:flex;"><span>            &#34;title&#34;: {{ .Title | jsonify }},
</span></span><span style="display:flex;"><span>            &#34;id&#34;: {{ .Permalink | jsonify }},
</span></span><span style="display:flex;"><span>            &#34;url&#34;: {{ .Permalink | jsonify }},
</span></span><span style="display:flex;"><span>            {{- if .Site.Params.showFullTextinJSONFeed }}
</span></span><span style="display:flex;"><span>            &#34;summary&#34;: {{ with .Description }}{{ . | jsonify }}{{ else }}{{ .Summary | jsonify }}{{ end -}},
</span></span><span style="display:flex;"><span>            &#34;content_html&#34;: {{ .Content | jsonify }},
</span></span><span style="display:flex;"><span>            {{- else }}
</span></span><span style="display:flex;"><span>            &#34;content_text&#34;: {{ with .Description }}{{ . | jsonify }}{{ else }}{{ .Summary | jsonify }}{{ end -}},
</span></span><span style="display:flex;"><span>            {{- end }}
</span></span><span style="display:flex;"><span>            {{- if .Params.cover.image }}
</span></span><span style="display:flex;"><span>            {{- $cover := (.Resources.ByType &#34;image&#34;).GetMatch (printf &#34;*%s*&#34; (.Params.cover.image)) }}
</span></span><span style="display:flex;"><span>            {{- if $cover }}
</span></span><span style="display:flex;"><span>            &#34;image&#34;: {{ (path.Join .RelPermalink $cover) | absURL | jsonify }},
</span></span><span style="display:flex;"><span>            {{- end }}
</span></span><span style="display:flex;"><span>            {{- end }}
</span></span><span style="display:flex;"><span>            &#34;date_published&#34;: {{ .Date.Format &#34;2006-01-02T15:04:05Z07:00&#34; | jsonify }}
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        {{- end }}
</span></span><span style="display:flex;"><span>        {{- end }}
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>    {{ end }}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Then, here&rsquo;s the relevant portion of my <code>hugo.yaml</code> file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>mediaTypes:
</span></span><span style="display:flex;"><span>  application/feed+json:
</span></span><span style="display:flex;"><span>    suffixes:
</span></span><span style="display:flex;"><span>      - json
</span></span><span style="display:flex;"><span>outputs:
</span></span><span style="display:flex;"><span>  home:
</span></span><span style="display:flex;"><span>    - HTML
</span></span><span style="display:flex;"><span>    - RSS
</span></span><span style="display:flex;"><span>    - JSON
</span></span><span style="display:flex;"><span>  section:
</span></span><span style="display:flex;"><span>    - HTML
</span></span><span style="display:flex;"><span>    - RSS
</span></span><span style="display:flex;"><span>    - JSONFeed
</span></span><span style="display:flex;"><span>outputFormats:
</span></span><span style="display:flex;"><span>  RSS:
</span></span><span style="display:flex;"><span>    mediaType: application/rss+xml
</span></span><span style="display:flex;"><span>    baseName: feed
</span></span><span style="display:flex;"><span>  JSONfeed:
</span></span><span style="display:flex;"><span>    mediaType: application/feed+json
</span></span><span style="display:flex;"><span>    baseName: feed
</span></span><span style="display:flex;"><span>    rel: alternate
</span></span><span style="display:flex;"><span>    isPlainText: true
</span></span></code></pre></div><p>Is anything obviously wrong with the way I have things set up?</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://joshuapsteele.com/tags/hugo/">Hugo</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://joshuapsteele.com/o-come-o-come-emmanuel-extra-verses/">
    <span class="title">« Prev</span>
    <br>
    <span>O Come, O Come, Emmanuel: Extra Verses</span>
  </a>
  <a class="next" href="https://joshuapsteele.com/five-questions-for-coming-to-grips-with-your-life/">
    <span class="title">Next »</span>
    <br>
    <span>Five Questions for Coming to Grips with Your Life</span>
  </a>
</nav>

  </footer><div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "joshuapsteele" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    <script src="https://tinylytics.app/embed/kLx6jW19SrdcVTjNny3p.js" defer></script>
<footer class="footer">
        <span>&copy; 2025 <a href="https://joshuapsteele.com/">Joshua P. Steele</a></span> · 
        Navigate my <a href="/blog">blog</a> by <a href="/categories">categories</a> and <a href="/tags">tags</a> · 

    <span>
        Find me on 
        <a href="https://social.joshuapsteele.com/" target="_blank">micro.blog</a> &
        <a href="https://steele.omg.lol/" target="_blank">omg.lol</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
